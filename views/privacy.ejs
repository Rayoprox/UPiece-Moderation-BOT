<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Privacy Policy - <%= process.env.DISCORD_CLIENT_ID %></title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #fff;
            min-height: 100vh;
            padding: 20px;
        }
        .container {
            max-width: 900px;
            margin: 0 auto;
            background: rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 40px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        }
        h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            background: linear-gradient(to right, #f093fb, #f5576c);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        h2 {
            font-size: 1.8rem;
            margin-top: 30px;
            margin-bottom: 15px;
            color: #a8dadc;
        }
        p, li {
            font-size: 1.1rem;
            line-height: 1.8;
            margin-bottom: 15px;
            color: #e0e0e0;
        }
        ul {
            margin-left: 30px;
        }
        .deletion-box {
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid #f093fb;
            border-radius: 10px;
            padding: 30px;
            margin-top: 30px;
        }
        .deletion-box h3 {
            color: #f093fb;
            margin-bottom: 15px;
        }
        .btn {
            background: linear-gradient(135deg, #f093fb, #f5576c);
            color: white;
            border: none;
            padding: 15px 30px;
            font-size: 1.1rem;
            border-radius: 8px;
            cursor: pointer;
            transition: transform 0.2s;
            margin-top: 15px;
        }
        .btn:hover {
            transform: scale(1.05);
        }
        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        .status {
            display: none;
            margin-top: 15px;
            padding: 15px;
            border-radius: 8px;
            font-weight: bold;
        }
        .status.success {
            background: rgba(46, 204, 113, 0.2);
            border: 1px solid #2ecc71;
            color: #2ecc71;
        }
        .status.error {
            background: rgba(231, 76, 60, 0.2);
            border: 1px solid #e74c3c;
            color: #e74c3c;
        }
        .footer {
            text-align: center;
            margin-top: 40px;
            padding-top: 20px;
            border-top: 1px solid rgba(255, 255, 255, 0.2);
        }
        .footer a {
            color: #f093fb;
            text-decoration: none;
        }
        .footer a:hover {
            text-decoration: underline;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üîí Privacy Policy</h1>
        <p><strong>Last Updated:</strong> February 18, 2026</p>

        <h2>1. Information We Collect</h2>
        <p>To provide moderation and security services, we collect and store the following information:</p>
        <ul>
            <li><strong>Discord User Data:</strong> User ID, username, discriminator, and guild membership information</li>
            <li><strong>IP Addresses:</strong> To prevent ban evasion and detect suspicious activity</li>
            <li><strong>Browser Fingerprint:</strong> Anonymous identifier to detect ban evasion across different accounts</li>
            <li><strong>User Agent:</strong> Browser and device information for security purposes</li>
            <li><strong>Moderation Logs:</strong> Records of warnings, bans, kicks, and other moderation actions</li>
            <li><strong>Appeal Data:</strong> Information submitted through our ban appeal system</li>
        </ul>

        <h2>2. How We Use Your Information</h2>
        <p>We use the collected data solely for:</p>
        <ul>
            <li>Preventing abuse, ban evasion, and malicious activities</li>
            <li>Providing moderation and security features to Discord servers</li>
            <li>Processing ban appeals and verification requests</li>
            <li>Improving bot functionality and security</li>
        </ul>

        <h2>3. Data Sharing</h2>
        <p><strong>We do NOT sell, rent, or share your data with third parties.</strong> Your information is only accessible to:</p>
        <ul>
            <li>Bot administrators and developers (for security and abuse prevention)</li>
            <li>Server moderators (only moderation logs related to their server)</li>
        </ul>

        <h2>4. Cookies</h2>
        <p>This website uses session cookies to maintain your login state and improve your experience. These cookies are essential for the website to function properly.</p>

        <h2>5. Data Retention</h2>
        <p>We retain your data as long as necessary for security and moderation purposes. You have the right to request deletion of your data at any time (see below).</p>

        <h2>6. Your Rights (GDPR Compliance)</h2>
        <p>You have the right to:</p>
        <ul>
            <li>Request access to your stored data</li>
            <li>Request correction of inaccurate data</li>
            <li>Request deletion of your data</li>
            <li>Object to processing of your data</li>
        </ul>

        <div class="deletion-box">
            <h3>üóëÔ∏è Request Data Deletion</h3>
            <p>If you wish to have your data removed from our systems, you can submit a deletion request below.</p>
            <p><strong>Note:</strong> Your request will be reviewed by our developers and processed within 24 hours. If not manually approved, it will be automatically deleted after 24 hours.</p>
            <p><strong>Verification notice:</strong> Deleting your data clears your verification status. Depending on the server's verification settings, this may result in an automatic action such as a kick or role reset.</p>
            
            <% if (user) { %>
                <button class="btn" onclick="requestDeletion()">Request Data Deletion</button>
                <div id="status" class="status"></div>
            <% } else { %>
                <p style="color: #f5576c;">‚ö†Ô∏è You must be logged in to request data deletion.</p>
                <a href="/auth/discord" class="btn">Login with Discord</a>
            <% } %>
        </div>

        <h2>7. Contact</h2>
        <p>For questions about this privacy policy or data requests, please contact the bot developers through the official Discord server.</p>

        <div class="footer">
            <p>&copy; 2026 Rayus Moderation Bot. All rights reserved.</p>
            <p><a href="/">Back to Dashboard</a> | <a href="/verify">Verify Account</a></p>
        </div>
    </div>

    <% if (user) { %>
    <script>
        async function requestDeletion() {
            const btn = document.querySelector('.btn');
            const status = document.getElementById('status');
            
            btn.disabled = true;
            btn.textContent = 'Processing...';
            
            try {
                const response = await fetch('/privacy/request-deletion', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' }
                });
                
                const data = await response.json();
                
                status.style.display = 'block';
                if (response.ok) {
                    status.className = 'status success';
                    status.textContent = '‚úÖ ' + data.message;
                    btn.textContent = 'Request Submitted';
                } else {
                    status.className = 'status error';
                    status.textContent = '‚ùå ' + data.error;
                    btn.disabled = false;
                    btn.textContent = 'Request Data Deletion';
                }
            } catch (error) {
                status.style.display = 'block';
                status.className = 'status error';
                status.textContent = '‚ùå An error occurred. Please try again.';
                btn.disabled = false;
                btn.textContent = 'Request Data Deletion';
            }
        }
    </script>
    <% } %>
</body>
</html>
