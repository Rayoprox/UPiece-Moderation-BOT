<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Moderation Logs</title>
    <style>
        :root{--bg:#f2f3f5;--card:#fff;--text:#23272a;--acc:#5865F2}
        body{font-family:'Segoe UI',sans-serif;background:var(--bg);margin:0;display:flex;flex-direction:column;align-items:center;min-height:100vh;user-select:none}
        header{background:linear-gradient(135deg,var(--acc),#4752c4);width:100%;padding:30px 20px 60px;text-align:center;color:#fff;box-shadow:0 4px 15px rgba(88,101,242,.3)}
        h1{margin:0;font-size:2rem}
        .nav{background:var(--card);padding:10px 30px;border-radius:50px;box-shadow:0 4px 6px rgba(0,0,0,.05);margin-top:-25px;display:flex;gap:20px;margin-bottom:40px}
        .link{text-decoration:none;color:var(--text);font-weight:600;padding:10px 20px;border-radius:25px;transition:.2s}
        .link:hover{background:#f0f0f0;color:var(--acc)}
        .link.active{background:var(--acc);color:#fff}
        .link.out:hover{color:#ed4245}
        .container{width:95%;max-width:1100px;background:#fff;border-radius:16px;padding:20px;box-shadow:0 4px 12px rgba(0,0,0,.05);overflow-x:auto}
        table{width:100%;border-collapse:collapse;min-width:600px}
        th,td{padding:15px;text-align:left;border-bottom:1px solid #eee}
        th{color:#99aab5;text-transform:uppercase;font-size:.85rem;letter-spacing:1px}
        .badge{padding:4px 8px;border-radius:4px;font-weight:700;font-size:.8rem;text-transform:uppercase}
        .ban{background:#ffebee;color:#d32f2f}
        .kick{background:#fff3e0;color:#ef6c00}
        .warn{background:#fff8e1;color:#fbc02d}
        .mute{background:#e3f2fd;color:#1976d2}
        .def{background:#f5f5f5;color:#616161}
    </style>
    <script>
        document.addEventListener('contextmenu', e => e.preventDefault());
        document.addEventListener('keydown', e => {
            if (e.key === 'F12' || (e.ctrlKey && ['u','I','J','C'].some(k => e.key.toUpperCase() === k))) e.preventDefault();
        });
    </script>
</head>
<body>
    <header>
        <h1>Audit Logs</h1>
        <p style="opacity:.8;margin-top:5px">Global moderation actions</p>
    </header>

    <div class="nav">
        <a href="/" class="link">Dashboard</a>
        <a href="/guilds" class="link">Servers</a>
        <a href="/modlogs" class="link active">Logs</a>
        <a href="/logout" class="link out">Logout</a>
    </div>

    <div class="container">
        <table>
            <thead>
                <tr>
                    <th>Case</th>
                    <th>Action</th>
                    <th>User</th>
                    <th>Mod</th>
                    <th>Reason</th>
                    <th>Date</th>
                </tr>
            </thead>
            <tbody>
                <% if(modlogs.length) { %>
                    <% modlogs.forEach(l => { 
                        const a = l.action.toLowerCase();
                        const cls = a.includes('ban')?'ban':a.includes('kick')?'kick':a.includes('warn')?'warn':(a.includes('mute')||a.includes('out'))?'mute':'def';
                    %>
                        <tr>
                            <td>#<%= l.caseid %></td>
                            <td><span class="badge <%= cls %>"><%= l.action %></span></td>
                            <td><%= l.usertag || l.userid %></td>
                            <td><%= l.moderatortag || l.modid %></td>
                            <td><%= l.reason %></td>
                            <td style="color:#99aab5;font-size:.9em"><%= new Date(+l.timestamp).toLocaleString() %></td>
                        </tr>
                    <% }) %>
                <% } else { %>
                    <tr><td colspan="6" style="text-align:center;padding:30px">No logs found.</td></tr>
                <% } %>
            </tbody>
        </table>
    </div>
</body>
</html>