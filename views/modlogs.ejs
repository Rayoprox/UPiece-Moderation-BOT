<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Moderation Logs</title>
    <style>
        :root{--bg:#050505;--card:#101012;--text:#ffffff;--sub:#a1a1aa;--acc:#8b5cf6;--border:#27272a}
        body{font-family:'Segoe UI',sans-serif;background:var(--bg);margin:0;display:flex;flex-direction:column;align-items:center;min-height:100vh;color:var(--text)}
        
        header{
            background:linear-gradient(180deg, rgba(139,92,246,0.15) 0%, transparent 100%);
            width:100%;padding:40px 20px;text-align:center;
            border-bottom:1px solid var(--border); margin-bottom:40px;
        }
        h1{margin:0;font-size:2rem}
        
        .nav{background:var(--card);padding:10px 30px;border-radius:50px;border:1px solid var(--border);margin-top:-25px;display:flex;gap:20px;margin-bottom:40px}
        .link{text-decoration:none;color:var(--sub);font-weight:600;padding:10px 20px;border-radius:25px;transition:.3s}
        .link:hover{color:var(--text);background:rgba(255,255,255,0.05)}
        .link.active{background:var(--acc);color:#000;box-shadow:0 0 15px rgba(139,92,246,0.5);}
        
        .container{width:95%;max-width:1200px;background:var(--card);border:1px solid var(--border);border-radius:20px;padding:20px;overflow-x:auto}
        table{width:100%;border-collapse:collapse;min-width:700px}
        th,td{padding:18px;text-align:left;border-bottom:1px solid var(--border)}
        th{color:var(--sub);text-transform:uppercase;font-size:.8rem;letter-spacing:1px}
        tr:last-child td{border-bottom:none}
        
        .badge{padding:5px 10px;border-radius:5px;font-weight:700;font-size:.75rem;text-transform:uppercase;display:inline-block;}
        .ban{background:rgba(255,0,85,0.2);color:#ff0055;border:1px solid rgba(255,0,85,0.3)}
        .kick{background:rgba(255,165,0,0.2);color:orange;border:1px solid rgba(255,165,0,0.3)}
        .warn{background:rgba(255,215,0,0.2);color:gold;border:1px solid rgba(255,215,0,0.3)}
        .mute{background:rgba(0,200,255,0.2);color:#00c8ff;border:1px solid rgba(0,200,255,0.3)}
        .def{background:rgba(255,255,255,0.1);color:#fff}
    </style>
</head>
<body>
    <header>
        <h1>Audit Logs</h1>
        <p style="opacity:.7;margin-top:5px">Server History</p>
    </header>

    <div class="nav">
        <a href="/manage/<%= guildId %>" class="link">Dashboard</a>
        <a href="#" class="link active">Logs</a>
    </div>

    <div class="container">
        <table>
            <thead>
                <tr>
                    <th>Case</th>
                    <th>Action</th>
                    <th>User</th>
                    <th>Mod</th>
                    <th>Reason</th>
                    <th>Date</th>
                </tr>
            </thead>
            <tbody>
                <% if(modlogs.length) { %>
                    <% modlogs.forEach(l => { 
                        const a = l.action.toLowerCase();
                        const cls = a.includes('ban')?'ban':a.includes('kick')?'kick':a.includes('warn')?'warn':(a.includes('mute')||a.includes('out'))?'mute':'def';
                    %>
                        <tr>
                            <td style="font-family:monospace;color:var(--sub)">#<%= l.caseid %></td>
                            <td><span class="badge <%= cls %>"><%= l.action %></span></td>
                            <td><%= l.usertag || l.userid %></td>
                            <td style="color:var(--acc)"><%= l.moderatortag || l.modid %></td>
                            <td style="color:#d4d4d8"><%= l.reason %></td>
                            <td style="color:var(--sub);font-size:.85em"><%= new Date(+l.timestamp).toLocaleDateString() %></td>
                        </tr>
                    <% }) %>
                <% } else { %>
                    <tr><td colspan="6" style="text-align:center;padding:40px;color:var(--sub)">No logs recorded.</td></tr>
                <% } %>
            </tbody>
        </table>
    </div>
</body>
</html>
