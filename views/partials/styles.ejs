<style>
    :root{--bg:#050505;--panel:#101012;--text:#fff;--sub:#a1a1aa;--acc:#8b5cf6;--acc-glow:rgba(139,92,246,0.3);--border:#27272a;--input:#18181b;--success:#00ff9d;--danger:#ff0055}
    body{font-family:'Segoe UI',sans-serif;background:var(--bg);margin:0;color:var(--text);display:flex;flex-direction:column;align-items:center;min-height:100vh}
    
    header{background:linear-gradient(180deg, rgba(139,92,246,0.1) 0%, transparent 100%);width:100%;padding:30px 20px;text-align:center;border-bottom:1px solid var(--border);display:flex;justify-content:center;align-items:center;position:relative}
    .back-btn{position:absolute;left:30px;top:50%;transform:translateY(-50%);color:var(--sub);text-decoration:none;font-weight:600;padding:8px 15px;border:1px solid var(--border);border-radius:20px;transition:0.3s;font-size:0.9rem}
    .back-btn:hover{background:var(--acc);color:#000;border-color:var(--acc);box-shadow:0 0 15px rgba(139,92,246,0.4)}
    h1{margin:0;font-size:1.8rem;text-shadow:0 0 10px var(--acc-glow)}
    
    .layout{display:flex;width:90%;max-width:1200px;margin-top:40px;gap:50px;flex-wrap:wrap;padding-bottom:100px}
    .sidebar{flex:0 0 auto;min-width:250px;display:flex;flex-direction:column;gap:10px}
    .tab-btn{background:var(--panel);border:1px solid var(--border);color:var(--sub);padding:15px 20px;text-align:left;cursor:pointer;border-radius:12px;font-weight:600;transition:0.3s;display:flex;align-items:center;gap:10px;width:100%}
    .tab-btn:hover{background:#1f1f23;color:var(--text)}
    .tab-btn.active{background:var(--acc);color:#000;border-color:var(--acc);box-shadow:0 0 20px var(--acc-glow)}
    
    .content-area{flex:3;min-width:300px;background:var(--panel);border:1px solid var(--border);border-radius:20px;padding:40px;position:relative}
    .section{display:none;animation:fadeIn 0.3s ease}
    .section.active{display:block}
    @keyframes fadeIn{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}
    
    h2{margin-top:0;border-bottom:1px solid var(--border);padding-bottom:15px;margin-bottom:25px;color:var(--acc)}
    h3{color:var(--text);margin-bottom:10px;border-left:3px solid var(--acc);padding-left:10px}
    .form-group{margin-bottom:25px}
    .label{display:block;margin-bottom:8px;font-weight:600;color:var(--sub);font-size:0.9rem}
    .hint{display:block;margin-top:5px;font-size:0.8rem;color:#52525b}
    
    input, select, textarea{width:100%;padding:12px;background:var(--input);border:1px solid var(--border);color:var(--text);border-radius:8px;font-family:inherit;box-sizing:border-box;transition:0.3s}
    input:focus, select:focus, textarea:focus{outline:none;border-color:var(--acc);box-shadow:0 0 10px rgba(139,92,246,0.2)}
    
    .switch{position:relative;display:inline-block;width:50px;height:26px}
    .switch input{opacity:0;width:0;height:0}
    .slider{position:absolute;cursor:pointer;top:0;left:0;right:0;bottom:0;background-color:#27272a;transition:.4s;border-radius:34px}
    .slider:before{position:absolute;content:"";height:20px;width:20px;left:3px;bottom:3px;background-color:white;transition:.4s;border-radius:50%}
    input:checked+.slider{background-color:var(--acc);box-shadow:0 0 15px rgba(139,92,246,0.5)}
    input:checked+.slider:before{transform:translateX(24px)}
    .perm-actions{display:flex;gap:12px;align-items:center}
    .perm-switch{display:flex;align-items:center}
    
    .item-list{display:flex;flex-direction:column;gap:10px;margin-bottom:20px}
    .item-row{background:#18181b;padding:15px;border-radius:8px;border:1px solid var(--border);display:flex;align-items:center;justify-content:space-between}
    .item-info{display:flex;gap:15px;align-items:center;flex:1;flex-wrap:wrap}
    .tag{background:#27272a;padding:4px 8px;border-radius:4px;font-size:0.85rem;font-family:monospace;border:1px solid var(--border)}
    .role-tag{color:var(--acc);background:rgba(139,92,246,0.1);border-color:rgba(139,92,246,0.3)}
    
    .btn-group { display: flex; gap: 8px; }
    .btn-act { border: none; padding: 8px 12px; border-radius: 8px; cursor: pointer; font-weight: bold; transition: 0.2s; display: flex; align-items: center; justify-content: center; gap: 5px; }
    .btn-del { background: rgba(255,0,85,0.1); color: var(--danger); border: 1px solid rgba(255,0,85,0.3); } 
    .btn-del:hover { background: var(--danger); color: white; box-shadow: 0 0 10px rgba(255,0,85,0.4); }
    .btn-edit { background: rgba(255,200,0,0.1); color: #ffcc00; border: 1px solid rgba(255,200,0,0.3); } 
    .btn-edit:hover { background: #ffcc00; color: black; box-shadow: 0 0 10px rgba(255,200,0,0.4); }
    
    .btn-back {
        background: linear-gradient(135deg, #6366f1 0%, #4f46e5 100%);
        color: white;
        border: none;
        padding: 10px 20px;
        border-radius: 10px;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        display: inline-flex;
        align-items: center;
        gap: 8px;
        box-shadow: 0 4px 12px rgba(99, 102, 241, 0.3);
        font-size: 0.95rem;
        letter-spacing: 0.3px;
        position: relative;
        overflow: hidden;
    }
    .btn-back::before {
        content: '';
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
        transition: left 0.5s;
    }
    .btn-back:hover::before {
        left: 100%;
    }
    .btn-back:hover {
        transform: translateY(-2px);
        box-shadow: 0 6px 20px rgba(99, 102, 241, 0.5);
        background: linear-gradient(135deg, #7c3aed 0%, #6366f1 100%);
    }
    .btn-back:active {
        transform: translateY(0);
        box-shadow: 0 2px 8px rgba(99, 102, 241, 0.4);
    }

    .btn-remove {
        background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
        color: white;
        border: none;
        padding: 12px 24px;
        border-radius: 10px;
        font-weight: 700;
        cursor: pointer;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        display: inline-flex;
        align-items: center;
        gap: 10px;
        box-shadow: 0 4px 15px rgba(239, 68, 68, 0.4);
        font-size: 1rem;
        letter-spacing: 0.5px;
        text-transform: uppercase;
        position: relative;
        overflow: hidden;
    }
    .btn-remove::before {
        content: '⚠️';
        font-size: 1.2rem;
        animation: pulse 2s ease-in-out infinite;
    }
    .btn-remove::after {
        content: '';
        position: absolute;
        top: 50%;
        left: 50%;
        width: 0;
        height: 0;
        border-radius: 50%;
        background: rgba(255, 255, 255, 0.3);
        transform: translate(-50%, -50%);
        transition: width 0.6s, height 0.6s;
    }
    .btn-remove:hover::after {
        width: 300px;
        height: 300px;
    }
    .btn-remove:hover {
        transform: translateY(-3px) scale(1.02);
        box-shadow: 0 8px 25px rgba(239, 68, 68, 0.6);
        background: linear-gradient(135deg, #dc2626 0%, #b91c1c 100%);
    }
    .btn-remove:active {
        transform: translateY(-1px) scale(0.98);
        box-shadow: 0 4px 15px rgba(239, 68, 68, 0.5);
    }
    @keyframes pulse {
        0%, 100% { opacity: 1; transform: scale(1); }
        50% { opacity: 0.7; transform: scale(1.1); }
    }
    
    .btn-action-lg { background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%); color: white; border: none; padding: 12px 20px; border-radius: 10px; font-weight: bold; cursor: pointer; transition: 0.3s; display: flex; align-items: center; gap: 8px; box-shadow: 0 4px 15px rgba(59, 130, 246, 0.3); }
    .btn-action-lg:hover { transform: translateY(-2px); box-shadow: 0 6px 20px rgba(59, 130, 246, 0.5); filter: brightness(1.1); }
    .btn-action-lg.secondary { background: linear-gradient(135deg, #4b5563 0%, #374151 100%); box-shadow: 0 4px 15px rgba(75, 85, 99, 0.3); }
    .btn-action-lg.secondary:hover { box-shadow: 0 6px 20px rgba(75, 85, 99, 0.5); }

    .add-box{background:#18181b;padding:20px;border-radius:12px;border:1px solid var(--border);margin-top:15px}
    .add-row{display:flex;gap:10px;align-items:flex-end;flex-wrap:wrap}
    .add-row>div{flex:1;min-width:150px}
    .btn-add{background:var(--acc);color:black;border:none;padding:12px 20px;border-radius:8px;font-weight:bold;cursor:pointer;height:42px;width:100%; transition:0.3s;}
    .btn-add:hover { box-shadow: 0 0 15px var(--acc-glow); transform: translateY(-1px); }

    .save-bar{margin-top:30px;padding-top:20px;border-top:1px solid var(--border);text-align:right}
    .btn-save{background:var(--success);color:#000;border:none;padding:12px 30px;border-radius:8px;font-weight:700;cursor:pointer;transition:0.3s;text-transform:uppercase;letter-spacing:1px; box-shadow: 0 0 15px rgba(0,255,157,0.2);}
    .btn-save:hover{box-shadow:0 0 25px rgba(0,255,157,0.5);transform:scale(1.05)}
    .btn-cancel{background:linear-gradient(135deg,#2a2a32 0%,#1c1c22 100%);color:var(--text);border:1px solid #2e2e38;padding:12px 30px;border-radius:8px;font-weight:700;cursor:pointer;transition:0.3s;letter-spacing:0.5px;box-shadow:0 0 12px rgba(0,0,0,0.25)}
    .btn-cancel:hover{border-color:var(--acc);box-shadow:0 0 16px var(--acc-glow);transform:translateY(-1px)}
    .perm-block{background:#18181f;border:1px solid #2b2b35;border-radius:12px;padding:16px;margin-bottom:16px;box-shadow:inset 0 0 0 1px rgba(255,255,255,0.02)}
    .perm-block-full{margin-bottom:0}
    .perm-block-title{font-weight:700;color:var(--text);margin-bottom:12px;padding-bottom:10px;border-bottom:1px solid #2b2b35}
    .perm-divider{height:1px;background:#2b2b35;margin:14px 0}

    .overlay { position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.8); z-index:100; display:none; justify-content:center; align-items:center; backdrop-filter:blur(5px); }
    .overlay-deploy { z-index: 2000; }
    .overlay-content { background:var(--panel); border:1px solid var(--border); padding:30px; border-radius:20px; width:90%; max-width:700px; max-height:90vh; overflow-y:auto; box-shadow:0 0 50px rgba(0,0,0,0.5); border-top: 4px solid var(--acc); }
    .overlay-header { display:flex; justify-content:space-between; align-items:center; margin-bottom:20px; border-bottom:1px solid var(--border); padding-bottom:15px; }
    .close-btn { background:none; border:none; color:var(--sub); font-size:1.5rem; cursor:pointer; }
    .close-btn:hover { color:white; }
    
    .sub-tabs { display:flex; gap:10px; margin-bottom:20px; border-bottom:1px solid var(--border); padding-bottom:10px; }
    .sub-tab { padding:8px 15px; cursor:pointer; color:var(--sub); font-weight:600; border-radius:8px; transition:0.2s; }
    .sub-tab.active { background:var(--acc); color:black; }
    .sub-section { display:none; }
    .sub-section.active { display:block; }

    .panel-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(140px, 1fr)); gap: 15px; margin-top: 10px; }
    .panel-option { background: var(--input); border: 2px solid var(--border); border-radius: 12px; padding: 15px; cursor: pointer; text-align: center; transition: 0.2s; position: relative; user-select: none; }
    .panel-option:hover { transform: translateY(-3px); border-color: var(--sub); }
    .panel-option.selected { border-color: var(--acc); background: rgba(139,92,246,0.1); box-shadow: 0 0 15px rgba(139,92,246,0.2); }
    .panel-option input { display: none; }
    .panel-emoji { font-size: 2rem; display: block; margin-bottom: 5px; }
    .panel-title { font-weight: bold; font-size: 0.9rem; color: var(--text); display: block; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
    .check-icon { position: absolute; top: 5px; right: 5px; color: var(--acc); display: none; font-size: 1.2rem; }
    .panel-option.selected .check-icon { display: block; }

    .toast { position: fixed; bottom: 30px; right: 30px; background: var(--panel); border: 1px solid var(--border); border-left: 5px solid var(--acc); padding: 15px 25px; border-radius: 8px; box-shadow: 0 5px 20px rgba(0,0,0,0.5); display: flex; align-items: center; gap: 15px; color: var(--text); font-weight: 600; transform: translateX(150%); transition: transform 0.3s cubic-bezier(0.68, -0.55, 0.27, 1.55); z-index: 5000; }
    .toast.show { transform: translateX(0); }
    .toast-success { border-left-color: #00ff9d; }
    .toast-error { border-left-color: #ff0055; }

    .custom-select-wrapper { position: relative; user-select: none; width: 100%; }
    .custom-select { position: relative; display: flex; flex-direction: column; }
    .custom-select-trigger {
        position: relative; display: flex; align-items: center; justify-content: space-between;
        padding: 12px; font-size: 0.95rem; font-weight: 500; color: var(--text);
        background: linear-gradient(180deg, #1a1a22 0%, #14141a 100%);
        border: 1px solid #30303a; border-radius: 10px;
        cursor: pointer; transition: 0.3s; min-height: 45px; flex-wrap: wrap; gap: 5px;
        box-shadow: inset 0 0 0 1px rgba(255,255,255,0.02);
    }
    .custom-select-trigger:hover { border-color: var(--sub); }
    .custom-select.open .custom-select-trigger { border-color: var(--acc); box-shadow: 0 0 10px var(--acc-glow); border-bottom-left-radius: 0; border-bottom-right-radius: 0; }
    .custom-options {
        position: absolute; display: block; top: 100%; left: 0; right: 0;
        background: #1c1c22; border: 1px solid #3a3a46; border-top: 0;
        border-bottom-left-radius: 10px; border-bottom-right-radius: 10px;
        box-shadow: 0 16px 28px rgba(0,0,0,0.7); z-index: 999;
        opacity: 0; visibility: hidden; pointer-events: none; transform: translateY(-10px);
        transition: 0.3s; max-height: 250px; overflow-y: auto;
    }
    .custom-select.open .custom-options { opacity: 1; visibility: visible; pointer-events: all; transform: translateY(0); }
    .custom-option {
        position: relative; display: flex; align-items: center; padding: 10px 15px;
        font-size: 0.9rem; color: var(--text); cursor: pointer; transition: 0.2s; border-bottom: 1px solid rgba(255,255,255,0.05);
    }
    .custom-option:hover { background: rgba(139,92,246,0.12); color: white; padding-left: 20px; }
    .custom-option.selected { background: var(--acc); color: black; font-weight: bold; }
    .custom-option .color-dot { width: 10px; height: 10px; border-radius: 50%; margin-right: 10px; display: inline-block; }

    .select-search {
        width: 100%; padding: 10px; border: none; border-bottom: 1px solid #2b2b33;
        background: #121217; color: white; font-family: inherit; outline: none;
    }
    .arrow { position: relative; height: 10px; width: 10px; }
    .arrow::after { content: ''; border: solid var(--sub); border-width: 0 2px 2px 0; display: inline-block; padding: 3px; transform: rotate(45deg); transition: 0.3s; }
    .custom-select.open .arrow::after { transform: rotate(-135deg); border-color: var(--acc); }

    .select-badge {
        background: rgba(139,92,246,0.2); color: var(--acc); border: 1px solid rgba(139,92,246,0.3);
        padding: 2px 8px; border-radius: 4px; font-size: 0.8rem; display: inline-flex; align-items: center; gap: 5px;
    }
    .badge-close { cursor: pointer; font-weight: bold; }
    .badge-close:hover { color: white; }
</style>
